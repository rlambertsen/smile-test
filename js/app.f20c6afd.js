(function(e){function t(t){for(var s,o,c=t[0],l=t[1],a=t[2],f=0,p=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,a||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(s=!1)}s&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},r={app:0},i=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var a=0;a<c.length;a++)t(c[a]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.countries?n("selectComponent",{attrs:{id:"countries",label:"Countries",options:e.countries,"object-key":"country_name","label-key":"country_name"},on:{input:function(t){return e.fetchStates(e.selectedCountry)}},model:{value:e.selectedCountry,callback:function(t){e.selectedCountry=t},expression:"selectedCountry"}}):n("loader"),e.selectedCountry?[e.states?n("selectComponent",{attrs:{id:"states",label:"States",options:e.states,"object-key":"state_name","label-key":"state_name"},on:{input:function(t){return e.fetchCities(e.selectedState)}},model:{value:e.selectedState,callback:function(t){e.selectedState=t},expression:"selectedState"}}):n("loader")]:e._e(),e.selectedState?[e.cities&&e.cities.length>0?[n("selectComponent",{ref:"cities",attrs:{id:"cities",label:"Cities",options:e.cities,multiple:!0,"object-key":"city_name","label-key":"city_name"},model:{value:e.selectedCities,callback:function(t){e.selectedCities=t},expression:"selectedCities"}}),n("p",[e._v(e._s(e.selectedCities))]),n("p",[e._v("Cities Selected: "+e._s(e.selectedCities.length))]),n("btn",{attrs:{text:"Clear Cities",classes:"button red"},on:{click:function(t){return e.removeAllCities()}}}),n("btn",{attrs:{text:"Select All",classes:"button green"},on:{click:function(t){return e.selectAllCities()}}})]:null===e.cities?n("loader"):n("p",[e._v("No cities found for this state.")])]:e._e(),e.selectedCountry?n("btn",{attrs:{text:"Start Over",classes:"button yellow"},on:{click:e.startOver}}):e._e()],2)},i=[],o=n("2909"),c=n("1da1"),l=(n("96cf"),n("d3b7"),n("159b"),n("d81d"),{name:"App",computed:{loginHeader:function(){return{Accept:"application/json","api-token":this.$apiConfig.api_token,"user-email":this.$apiConfig.user_email}},bearerHeader:function(){return{Accept:"application/json",Authorization:"Bearer "+this.token}}},watch:{token:function(){var e=this;this.token&&this.reuseFetch("https://www.universal-tutorial.com/api/countries/",null,this.bearerHeader).then((function(t){e.countries=t})).catch((function(e){return console.error(e)}))}},data:function(){return{token:null,countries:null,states:null,cities:null,selectedCountry:null,selectedState:null,selectedCities:[]}},methods:{reuseFetch:function(e,t,n){return Object(c["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,fetch(e,{method:t||"GET",mode:"cors",headers:n});case 3:return r=s.sent,s.abrupt("return",r.json());case 7:return s.prev=7,s.t0=s["catch"](0),s.abrupt("return",s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()},fetchStates:function(e){var t=this;this.states=null,this.reuseFetch("https://www.universal-tutorial.com/api/states/"+encodeURIComponent(e),null,this.bearerHeader).then((function(e){t.states=e})).catch((function(e){return console.error(e)}))},fetchCities:function(e){var t=this;this.removeAllCities(),this.cities=null,this.reuseFetch("https://www.universal-tutorial.com/api/cities/"+encodeURIComponent(e),null,this.bearerHeader).then((function(e){t.cities=e,t.$nextTick().then((function(){t.$refs.cities&&t.$refs.cities.$refs.select.focus()}))})).catch((function(e){return console.error(e)}))},removeAllCities:function(){this.$refs.cities&&this.$refs.cities.$refs.select.options.forEach((function(e){e.selected=!1})),this.selectedCities=[]},selectAllCities:function(){this.$refs.cities&&(this.$refs.cities.$refs.select.focus(),this.$refs.cities.$refs.select.options.forEach((function(e){e.selected=!0}))),this.selectedCities=Object(o["a"])(this.$refs.cities.$refs.select.options).map((function(e){return e.value}))},startOver:function(){this.selectedCountry=null,this.selectedState=null,this.selectedCities=[]}},created:function(){var e=this;this.reuseFetch("https://www.universal-tutorial.com/api/getaccesstoken",null,this.loginHeader).then((function(t){e.token=t.auth_token})).catch((function(e){return console.error(e)}))}}),a=l,u=n("2877"),f=Object(u["a"])(a,r,i,!1,null,"08bb2178",null),p=f.exports,d=n("bd5e"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"selectContainer",class:[e.divClass?e.divClass:"grid-start"]},[e.label?n("label",{ref:"label",attrs:{for:e.id}},[e._v(" "+e._s(e.label)+" ")]):e._e(),n("select",e._b({ref:"select",class:e.selectClass?e.selectClass:"",attrs:{id:e.id,multiple:e.multiple},on:{change:e.change}},"select",e.$attrs,!1),[this.multiple?e._e():n("option",{domProps:{value:void 0}},[e._v("Select")]),"string"!==typeof e.options[0]||e.objectKey?e._e():e._l(e.options,(function(t,s){return n("option",{key:s,attrs:{index:s},domProps:{selected:t===e.value,value:t}},[e._v(" "+e._s(t)+" ")])})),"object"===typeof e.options[0]&&e.objectKey?e._l(e.options,(function(t,s){return n("option",{key:s,attrs:{index:s},domProps:{selected:t[e.objectKey]===e.value,value:t[e.objectKey]}},[e.labelKey?[e._v(" "+e._s(t[e.labelKey])+" ")]:[e._v(" "+e._s(t[e.objectKey])+" ")]],2)})):e._e()],2)])},b=[],m=(n("a9e3"),n("4de4"),n("a630"),n("3ca3"),{name:"select-component",inheritAttrs:!1,props:{id:{type:String,default:""},label:{type:String,default:""},value:{type:[String,Boolean,Number,Array],default:""},options:{type:Array,default:function(){return[]}},selectClass:{type:String,default:""},divClass:{type:String,default:""},required:Boolean,multiple:Boolean,objectKey:{type:String,default:""},labelKey:{type:String,default:""}},methods:{change:function(e){return this.multiple?this.$emit("input",Array.from(e.target.options).filter((function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}))):this.$emit("input",e.target.value)}}}),v=m,y=(n("cc6d"),Object(u["a"])(v,h,b,!1,null,"85ff36ce",null)),_=y.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"})},g=[],k={name:"loader"},S=k,w=(n("75a1"),Object(u["a"])(S,C,g,!1,null,"1fbe584c",null)),j=w.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:[e.classes?e.classes:""],on:{click:function(t){return t.preventDefault(),e.$emit("click",t)}}},[e._v(" "+e._s(e.text)+" ")])},x=[],O={name:"basic-button",props:{classes:{type:String,default:""},text:{type:String,default:"",required:!0}}},A=O,K=(n("5975"),Object(u["a"])(A,$,x,!1,null,"b81a5b86",null)),P=K.exports;s["a"].prototype.$apiConfig=d,s["a"].component("selectComponent",_),s["a"].component("loader",j),s["a"].component("btn",P),new s["a"]({render:function(e){return e(p)}}).$mount("#app")},5975:function(e,t,n){"use strict";n("f273")},"75a1":function(e,t,n){"use strict";n("925c")},"925c":function(e,t,n){},abfa:function(e,t,n){},bd5e:function(e){e.exports=JSON.parse('{"api_token":"sJAOm_Wt7z4xBCMNTbN5NOp1seGPApcb-B792sfFaSKmFbL9wOQ9gKGVasIoAiOiHsc","user_email":"bob@leee.com"}')},cc6d:function(e,t,n){"use strict";n("abfa")},f273:function(e,t,n){}});
//# sourceMappingURL=app.f20c6afd.js.map